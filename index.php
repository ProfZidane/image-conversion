<?php

/**
 * 
 * Generate png image with data:image url
 * Générer une image en png à partir d'une data image
 * MOHAMED Zidane - ProfZidane
 * 
 */


$base = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIATkBUgMBIgACEQEDEQH/xAAyAAEAAgMBAQAAAAAAAAAAAAAAAwYBAgUEBwEBAAMBAQAAAAAAAAAAAAAAAAECAwQF/9oADAMBAAIQAxAAAALuyxStQAAAAAAAAAAAAAAAAAAAAIpYpQAAAAAAAABiuVtX6JJ8z6BfEMywAAAAAAAAEUsUoAAAAAAAAjkhPnnp8k0IBOV169esLQEgAAAAAAARSxSgAAAAAAACmXH50rEFCfunosEcjQEgAAAAAMIU7oy+8sUrMAAAAAAADFJ6lWUEivru3zvZb6S4/YXAAAAAAa6xrZwNAN5YpWIAAAAAAAFR4NjrjMEejby7xfpXf5v9GlsFgAADEad49S4LAGgmlilYgAAAAAAAcCsXKpKe7jfQqAjQI7VyrljaAkAxonfTTC2cC4ACPaJbDJf1SxSuQAAAAAAADy0i80FT6NVLXwFqkGdrsNUtLTZHovLpoWBYAABhCkGgHqlilcgAAAAAAAwef57fqKr9Cq3fopoFJb38/sTSxBuAAAAwhSDQAD1SxSuQAAAAA00Wl0jLZwJ8dasHiZxV70edkCEsQ+hbeH3OoEgANcRrAuAAB6pYpXIAAAR6Lb6YLgkj4zXu1z27s6jYOnyWNfe7xM8BUC6dDy+p1AkYMx64XBYAAAD1SxSuQAxGnaPBcFgBEc3mbxT6zaBFPfjwmfR4/omYcUPMba+wu2w6jES28YuCQAAAAPVLFK5Gmui4LgAAOP1K7PVrFLDHdoGAGeny+urW13rzyuH2uLbFevHqdYLAAAAAAAelDI5wXAAAARyDm8O21F16hsA6vK7qs3J7XFcNfutKujL0h0gAAAAAAAbyRyMgAAAAAIqtbjSoa2CmHTyti1S73qytngd+vMOHbKnamHTDrAAAAAAAA3kjkZAAAAAAAVfh+jLm7/V12dgLOD3uWpVrZU7gw9odQAAAAAAAG8kcjIAAAAAB4/ZXVa7auLbEZDoAeb06Iot0pt2c8odIAAAAAAAG8kcjIAAAAARJxTrPXFO97sZbAkBjOClXOpW9hkNwAAAAAAAN5I5GQAAAA0MRvA143W5vdW9AVAAa7YKlYuflr2wyAAAAAAAA3kjkZAAAAYh3jX8XO3zPo+nojjyIoAMGQeXld7lT0+j28Luq5EYAAAAAAAf/xAAC/9oADAMBAAIAAwAAACEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEF2AAEEEEEEEEEEEEEEEEEFA8AkEEEEEEEEEEEEEEEEEFwAUEEEEEEEFX4EEEEEEEEEgVgAEEEEEEVzwEEEEEEEEEgBuQEEEEy3zz8EEEEEEEEESkCgEEjVzzzLMEEEEEEEEFVQCQQzzzzycIMEEEEEEEEECkDTzzzzzeIMMEEEEEEg73iEBBTzzzoIMMMEEEEizzYa0AAD7zgIMMMMMEEH/wC8/wDDrygFXZgwwwwwwwXPPPvKA/vm9UcwwwwwwwwzfPPPPP1vvun1Awwwwwwww1vPPPPvCpK+0gQwwwwwwww1PPPPPPKAKw0kAwwwwwwww1PPPPPPMVAwxgQwwwwwwww1PPPPPItCgw1lQwwwwwwww1PPPPPz6wwwx4gwwwwwwww1vPPPDuNAwxwzfAwwwwwww//EAAL/2gAMAwEAAgADAAAAEONfffffffffffffffffffffPffffffffaGPffffffffffPfffffffbc4dPfffffffffPfffffffXQBdffffffff8fPfffffffeUKNPffffea4g/PfffffffaAB4Pfffd4hyzfPfffffffbBANPfd4zm82cPPfffffffbYAMY/4kw0yow/PffffffeWMQJt5zzzzIww/PfffedkI1wAAYzzw2Iwww/Pfea8gzjTwQAKMx+ggwww/Peowfw+XnpQAc8cAwwwww+Irg9f3f/vj7guAgwwwwww4xz837wZvvugRgwwwwwwww5G8w/8A2uZ939BcMMMMMMMMPIM9/wDf/SNADAGDDDDDDDDDy3//AKxyxrgwwcgwwwwwwwwwk94442H6wwx0gwwwwwwww1u8+8wHlQwww5Awwwwwwww+A/729aVAwxw/UAwwwwwww//EACARAQACAgIBBQAAAAAAAAAAAAEAQBExECBQAiEwQVH/2gAIAQIBAT8A8s+AxMecxUCqUMT24+6OOcRJqmEeWkaj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";

$reset = explode(',' , $base);

$reset =  base64_decode($reset[1]);

$im = imageCreateFromString($reset);

if (!$im) {

    echo "not valid";

} else {

    $path = "essai/img.png";
    imagepng($im, $path, 0);

}



?>